<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <title>MV STUDIO PRO - COMPACT & FULL</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation"></script>
    <style>
        :root { --main: #ffaa00; --msg-size: 26px; } 
        body, html { margin: 0; padding: 0; width: 100vw; height: 100vh; background: #000; overflow: hidden; color: white; font-family: sans-serif; }
        
        #viewport { position: relative; width: 100%; height: calc(100% - 140px); background: #111; overflow: hidden; }
        #viewport:fullscreen { height: 100vh; }
        
        #bg-v, #bg-i, #bg-s { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; display: none; z-index: 1; }
        #cam-box { position: absolute; z-index: 10; cursor: move; display: none; top: 20px; right: 20px; }
        #ai-canvas { width: 350px; border: 1px solid rgba(255,255,255,0.2); }
        
        #circle-box { position: absolute; z-index: 15; cursor: move; width: 250px; height: 250px; display: flex; align-items: center; justify-content: center; top: 10%; left: 30%; }
        #radial-canvas { position: absolute; z-index: 16; pointer-events: none; }
        #inner-circle { width: 100px; height: 100px; border-radius: 50%; border: 2px solid #fff; background: #000; overflow: hidden; z-index: 17; display: flex; align-items: center; justify-content: center; }
        #inner-img { width: 100%; height: 100%; object-fit: cover; display: none; }

        #branding { position: absolute; z-index: 20; cursor: move; font-weight: 900; text-transform: uppercase; text-shadow: 2px 2px 10px #000; bottom: 50px; left: 40px; font-size: 40px; color: white; }

        /* Mesaje Invitati */
        #msg-box { position: absolute; z-index: 999; background: rgba(0, 0, 0, 0.85); border-left: 6px solid var(--main); padding: 10px; border-radius: 0 10px 10px 0; min-width: 250px; cursor: move; display: none; top: 100px; left: 20px; }

        /* Panou Control ULTRA COMPACT */
        #controls { position: absolute; bottom: 0; width: 100%; height: 140px; background: #080808; display: grid; grid-template-columns: repeat(6, 1fr); gap: 3px; padding: 4px; border-top: 1px solid #222; }
        .panel { background: #111; padding: 4px; border-radius: 3px; border: 1px solid #1a1a1a; display: flex; flex-direction: column; gap: 2px; }
        .panel h3 { font-size: 7px; color: #ffaa00; text-align: center; font-weight: 800; border-bottom: 1px solid #222; text-transform: uppercase; margin-bottom: 2px; }
        
        .btn { width: 100%; padding: 3px; font-weight: bold; border-radius: 2px; text-transform: uppercase; font-size: 7px; cursor: pointer; border: none; }
